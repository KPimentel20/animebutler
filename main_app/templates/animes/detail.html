{% extends 'base.html' %} {% block content %}

<h1>hello this is the details page</h1>

<img src="{{ anime.images.jpg.image_url}}" alt="image for {{anime.title}}">
<p>Title: {{ anime.title }}</p>
<div>Producer: {% for producer in anime.producers  %}
    {{producer.name}} <br>
    {% endfor %}
</div>
<div>Genre: {% for genre in anime.genres %}
    {{genre.name}}<br>
    {% endfor %}
</div>
<p>Year: {{anime.year}}</p>
<p>Episodes: {{anime.episodes}}</p>
<p>Status: {{anime.status}}</p>
<p>Description: {{ anime.synopsis }}</p>
{% comment %} <p>Language Choices: {{ anime.get_language_display }}</p> {% endcomment %}

{% if user.is_authenticated %}
    <!-- watchlist has a foreign key to anime.mal_id
        anime model is where the foreign key comes from
        how to add api anime to anime model? with api anime's id
        
    -->
    <form method="POST" action="{% url 'add_anime' anime.mal_id %}"> 
        {% csrf_token %}
        <input type="submit" value="add to list" class="btn">
    </form>
    
{% endif %}

{% endblock %}
